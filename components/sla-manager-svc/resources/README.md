### INPUT / OUTPUT MODELS 

#### SLA Creation (INPUT)

Input format:

```json
{
    "serviceId": "<SERVICE_ID>",
    "kpis": [],
    "roles": [
    {
        "id": "<ROL_01>",
        "kpis": []
    },
    {
        "id": "<ROL_02>",
        "kpis": ["responsetime > 20"]
    }]
}
```

- "roles"."id" : role ID
- "serviceId": service ID

------------------------------------------------------------

1. gRPC input example:

```golang
slao := &pb.InputSLAObj{
		ServiceId: "test_grpc_01",
		Kpis:      []string{},
		Roles: []*pb.InputSLAObj_InputSLAObjRole{
			{
				Id: "test_grpc_01_ROL_Plantwatering",
				Kpis: []string{
					"exampleplantcare/moisture[5s] > 20",
				},
			},
		},
	}
```

2. Input is translated to SLA JSON format used by the application:


```json
{
    "id": "test_grpc_01-hRwNpQUGC9ocERRX47zisF",
    "name": "test_grpc_01",
    "state": "started",
    "assessment": {
        "first_execution": "0001-01-01T00:00:00Z",
        "last_execution": "0001-01-01T00:00:00Z"
    },
    "creation": "2024-08-27T13:31:36.8951381+01:00",
    "expiration": "2025-08-27T13:31:36.8951381+01:00",
    "details": {
        "guarantees": [
            {
                "name": "test_grpc_01_ROL_Plantwatering",
                "constraint": "exampleplantcare/moisture[5s] > 20"
            }
        ]
    }
}
```

3. Violation generated by this SLA:

```json
{
    "serviceId": "test_grpc_01",
    "roleId": "test_grpc_01_ROL_Plantwatering"
}
```


#### VIOLATION Notification (OUTPUT)

```json
{
    "serviceId": "<SERVICE_ID>",
    "roleId": "<ROL_02>"
}
```

### TESTS

#### Check application

```
curl -k http://localhost:8080/api/v1/ping
```

#### Create SLA

```
curl -k -X POST -d @resources/service_definition_example_01.json http://localhost:8080/api/v1/sla
```

#### Read SLAs

```
curl -k http://localhost:8080/api/v1/sla
```